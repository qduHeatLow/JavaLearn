{"remainingRequest":"C:\\cangqiongwaimai\\苍穹外卖前端课程\\代码\\day02\\project-sky-admin-vue-ts\\node_modules\\babel-loader\\lib\\index.js!C:\\cangqiongwaimai\\苍穹外卖前端课程\\代码\\day02\\project-sky-admin-vue-ts\\node_modules\\ts-loader\\index.js??ref--14-2!C:\\cangqiongwaimai\\苍穹外卖前端课程\\代码\\day02\\project-sky-admin-vue-ts\\node_modules\\@vue\\cli-plugin-eslint\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\cangqiongwaimai\\苍穹外卖前端课程\\代码\\day02\\project-sky-admin-vue-ts\\src\\layout\\mixin\\resize.ts","dependencies":[{"path":"C:\\cangqiongwaimai\\苍穹外卖前端课程\\代码\\day02\\project-sky-admin-vue-ts\\src\\layout\\mixin\\resize.ts","mtime":1706604664544},{"path":"C:\\cangqiongwaimai\\苍穹外卖前端课程\\代码\\day02\\project-sky-admin-vue-ts\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\cangqiongwaimai\\苍穹外卖前端课程\\代码\\day02\\project-sky-admin-vue-ts\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\cangqiongwaimai\\苍穹外卖前端课程\\代码\\day02\\project-sky-admin-vue-ts\\node_modules\\ts-loader\\index.js","mtime":499162500000},{"path":"C:\\cangqiongwaimai\\苍穹外卖前端课程\\代码\\day02\\project-sky-admin-vue-ts\\node_modules\\@vue\\cli-plugin-eslint\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\"use strict\";\n\nvar _interopRequireDefault = require(\"C:\\\\cangqiongwaimai\\\\\\u82CD\\u7A79\\u5916\\u5356\\u524D\\u7AEF\\u8BFE\\u7A0B\\\\\\u4EE3\\u7801\\\\day02\\\\project-sky-admin-vue-ts\\\\node_modules\\\\@babel\\\\runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"C:\\\\cangqiongwaimai\\\\\\u82CD\\u7A79\\u5916\\u5356\\u524D\\u7AEF\\u8BFE\\u7A0B\\\\\\u4EE3\\u7801\\\\day02\\\\project-sky-admin-vue-ts\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"C:\\\\cangqiongwaimai\\\\\\u82CD\\u7A79\\u5916\\u5356\\u524D\\u7AEF\\u8BFE\\u7A0B\\\\\\u4EE3\\u7801\\\\day02\\\\project-sky-admin-vue-ts\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/createClass\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"C:\\\\cangqiongwaimai\\\\\\u82CD\\u7A79\\u5916\\u5356\\u524D\\u7AEF\\u8BFE\\u7A0B\\\\\\u4EE3\\u7801\\\\day02\\\\project-sky-admin-vue-ts\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"C:\\\\cangqiongwaimai\\\\\\u82CD\\u7A79\\u5916\\u5356\\u524D\\u7AEF\\u8BFE\\u7A0B\\\\\\u4EE3\\u7801\\\\day02\\\\project-sky-admin-vue-ts\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/getPrototypeOf\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"C:\\\\cangqiongwaimai\\\\\\u82CD\\u7A79\\u5916\\u5356\\u524D\\u7AEF\\u8BFE\\u7A0B\\\\\\u4EE3\\u7801\\\\day02\\\\project-sky-admin-vue-ts\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/inherits\"));\n\nvar _tslib = require(\"tslib\");\n\nvar _vuePropertyDecorator = require(\"vue-property-decorator\");\n\nvar _app = require(\"@/store/modules/app\");\n\nvar WIDTH = 992; // refer to Bootstrap's responsive design\n\nvar default_1 =\n/*#__PURE__*/\nfunction (_Vue) {\n  (0, _inherits2.default)(default_1, _Vue);\n\n  function default_1() {\n    (0, _classCallCheck2.default)(this, default_1);\n    return (0, _possibleConstructorReturn2.default)(this, (0, _getPrototypeOf2.default)(default_1).apply(this, arguments));\n  }\n\n  (0, _createClass2.default)(default_1, [{\n    key: \"onRouteChange\",\n    value: function onRouteChange() {\n      if (this.device === _app.DeviceType.Mobile && this.sidebar.opened) {\n        _app.AppModule.CloseSideBar(false);\n      }\n    }\n  }, {\n    key: \"beforeMount\",\n    value: function beforeMount() {\n      window.addEventListener('resize', this.resizeHandler);\n    }\n  }, {\n    key: \"mounted\",\n    value: function mounted() {\n      var isMobile = this.isMobile();\n\n      if (isMobile) {\n        _app.AppModule.ToggleDevice(_app.DeviceType.Mobile);\n\n        _app.AppModule.CloseSideBar(true);\n      }\n    }\n  }, {\n    key: \"beforeDestroy\",\n    value: function beforeDestroy() {\n      window.removeEventListener('resize', this.resizeHandler);\n    }\n  }, {\n    key: \"isMobile\",\n    value: function isMobile() {\n      var rect = document.body.getBoundingClientRect();\n      return rect.width - 1 < WIDTH;\n    }\n  }, {\n    key: \"resizeHandler\",\n    value: function resizeHandler() {\n      if (!document.hidden) {\n        var isMobile = this.isMobile();\n\n        _app.AppModule.ToggleDevice(isMobile ? _app.DeviceType.Mobile : _app.DeviceType.Desktop);\n\n        if (isMobile) {\n          _app.AppModule.CloseSideBar(true);\n        }\n      }\n    }\n  }, {\n    key: \"device\",\n    get: function get() {\n      return _app.AppModule.device;\n    }\n  }, {\n    key: \"sidebar\",\n    get: function get() {\n      return _app.AppModule.sidebar;\n    }\n  }]);\n  return default_1;\n}(_vuePropertyDecorator.Vue);\n\n(0, _tslib.__decorate)([(0, _vuePropertyDecorator.Watch)('$route')], default_1.prototype, \"onRouteChange\", null);\ndefault_1 = (0, _tslib.__decorate)([(0, _vuePropertyDecorator.Component)({\n  'name': 'ResizeMixin'\n})], default_1);\nvar _default = default_1;\nexports.default = _default;",{"version":3,"sources":["C:\\cangqiongwaimai\\苍穹外卖前端课程\\代码\\day02\\project-sky-admin-vue-ts\\node_modules\\@vue\\cli-plugin-eslint\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\cangqiongwaimai\\苍穹外卖前端课程\\代码\\day02\\project-sky-admin-vue-ts\\src\\layout\\mixin\\resize.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;AAAA;;AACA;;AAEA,IAAM,KAAK,GAAG,GAAd,C,CAAmB;;AAKnB,IAAA,SAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA,oCAUyB;AACnB,UAAI,KAAK,MAAL,KAAgB,gBAAW,MAA3B,IAAqC,KAAK,OAAL,CAAa,MAAtD,EAA8D;AAC5D,uBAAU,YAAV,CAAuB,KAAvB;AACD;AACF;AAdL;AAAA;AAAA,kCAgBa;AACT,MAAA,MAAM,CAAC,gBAAP,CAAwB,QAAxB,EAAkC,KAAK,aAAvC;AACD;AAlBH;AAAA;AAAA,8BAoBS;AACL,UAAM,QAAQ,GAAG,KAAK,QAAL,EAAjB;;AACA,UAAI,QAAJ,EAAc;AACZ,uBAAU,YAAV,CAAuB,gBAAW,MAAlC;;AACA,uBAAU,YAAV,CAAuB,IAAvB;AACD;AACF;AA1BH;AAAA;AAAA,oCA4Be;AACX,MAAA,MAAM,CAAC,mBAAP,CAA2B,QAA3B,EAAqC,KAAK,aAA1C;AACD;AA9BH;AAAA;AAAA,+BAgCkB;AACd,UAAM,IAAI,GAAG,QAAQ,CAAC,IAAT,CAAc,qBAAd,EAAb;AACA,aAAO,IAAI,CAAC,KAAL,GAAa,CAAb,GAAiB,KAAxB;AACD;AAnCH;AAAA;AAAA,oCAqCuB;AACnB,UAAI,CAAC,QAAQ,CAAC,MAAd,EAAsB;AACpB,YAAM,QAAQ,GAAG,KAAK,QAAL,EAAjB;;AACA,uBAAU,YAAV,CAAuB,QAAQ,GAAG,gBAAW,MAAd,GAAuB,gBAAW,OAAjE;;AACA,YAAI,QAAJ,EAAc;AACZ,yBAAU,YAAV,CAAuB,IAAvB;AACD;AACF;AACF;AA7CH;AAAA;AAAA,wBACc;AACR,aAAO,eAAU,MAAjB;AACD;AAHL;AAAA;AAAA,wBAKe;AACT,aAAO,eAAU,OAAjB;AACD;AAPL;AAAA;AAAA,EAA6B,yBAA7B,CAAA;;AAUI,uBAAA,CADD,iCAAM,QAAN,CACC,CAAA,E,mBAAA,E,eAAA,EAIC,IAJD;AAVJ,SAAA,GAAA,uBAAA,CAHC,qCAAU;AACP,UAAQ;AADD,CAAV,CAGD,CAAA,EA8CC,SA9CD,CAAA","sourcesContent":["import { Component, Vue, Watch } from 'vue-property-decorator'\r\nimport { AppModule, DeviceType } from '@/store/modules/app'\r\n\r\nconst WIDTH = 992; // refer to Bootstrap's responsive design\r\n\r\n@Component({\r\n    'name': 'ResizeMixin'\r\n})\r\nexport default class extends Vue {\r\n    get device () {\r\n      return AppModule.device\r\n    }\r\n\r\n    get sidebar () {\r\n      return AppModule.sidebar\r\n    }\r\n\r\n  @Watch('$route')\r\n    private onRouteChange() {\r\n      if (this.device === DeviceType.Mobile && this.sidebar.opened) {\r\n        AppModule.CloseSideBar(false)\r\n      }\r\n    }\r\n\r\n  beforeMount() {\r\n    window.addEventListener('resize', this.resizeHandler)\r\n  }\r\n\r\n  mounted() {\r\n    const isMobile = this.isMobile()\r\n    if (isMobile) {\r\n      AppModule.ToggleDevice(DeviceType.Mobile)\r\n      AppModule.CloseSideBar(true)\r\n    }\r\n  }\r\n\r\n  beforeDestroy() {\r\n    window.removeEventListener('resize', this.resizeHandler)\r\n  }\r\n\r\n  private isMobile() {\r\n    const rect = document.body.getBoundingClientRect()\r\n    return rect.width - 1 < WIDTH\r\n  }\r\n\r\n  private resizeHandler() {\r\n    if (!document.hidden) {\r\n      const isMobile = this.isMobile()\r\n      AppModule.ToggleDevice(isMobile ? DeviceType.Mobile : DeviceType.Desktop)\r\n      if (isMobile) {\r\n        AppModule.CloseSideBar(true)\r\n      }\r\n    }\r\n  }\r\n}\r\n"],"sourceRoot":""}]}